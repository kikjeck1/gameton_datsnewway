# DatsNewWay Snake3D

Решение для игры Snake3D в рамках геймтона DatsNewWay.

## Архитектура решения

### 1. GameClient (game_client.py)
Основной клиент для взаимодействия с игровым сервером. Отвечает за:
- Подключение к серверу и авторизацию
- Отправку ходов
- Получение состояния игры
- Логирование игровых данных
- Синхронизацию с тиками сервера

### 2. Логгер (logger.py)
Система логирования для записи и анализа игровых событий:
- Сохраняет каждый ход в формате JSONL
- Организует логи по раундам
- Позволяет анализировать историю игры

### 3. Стратегия движения (mover.py)
Основная логика принятия решений:

#### Поиск пути (A*)
- Модифицированный алгоритм A* для 3D пространства
- Учет препятствий и других змеек
- Ограничение глубины поиска для оптимизации времени
- Проверка тупиков и опасных зон

#### Выбор цели
- Оценка еды по соотношению ценность/расстояние
- Учет близости вражеских змеек к еде
- Выбор топ-15 наиболее перспективных целей
- Проверка достижимости цели

#### Стратегические зоны
- Разделение игры на фазы (до/после 500 хода)
- Контроль расстояния до центра карты
- Избегание столкновений с другими змейками
- Поиск безопасных путей отступления

### 4. Структуры данных (data_objects.py)
Датаклассы для представления игровых объектов:
- Vector3D: трехмерные координаты
- Snake: состояние змейки
- Food: информация о еде
- GameState: полное состояние игры

## Основные особенности решения

1. **Оптимизация времени**
   - Ограничение глубины поиска пути
   - Выбор только ближайших целей
   - Быстрые проверки достижимости

2. **Безопасность движения**
   - Проверка тупиков
   - Учет возможных движений противников
   - Избегание опасных зон

3. **Адаптивная стратегия**
   - Разные стратегии для разных фаз игры
   - Контроль расстояния до центра
   - Баланс между риском и наградой

4. **Отказоустойчивость**
   - Обработка ситуаций без доступной еды
   - Запасные варианты движения
   - Восстановление после столкновений

## Запуск

```bash
# Запуск клиента
python -m source.game_client
```

## Логирование

Логи сохраняются в формате JSONL в директории `logs/`:
```
logs/
└── round_name.jsonl
```

Каждая строка в файле содержит полное состояние игры на момент хода.

## Анализ производительности

- Среднее время принятия решения: ~50-100ms
- Глубина поиска пути ограничена 50 шагами
- Рассматривается до 15 ближайших целей
- Учитываются только значимые препятствия
